<div *ngIf="user$ | async; let user">
    <app-avatar [avatarUrl]="user?.avatarUrl"></app-avatar>

    <div>
        <p>{{user.firstName}}</p>
        <p>{{user.lastName}}</p>
    </div>


    <div class="buttons">
        <span *ngIf="followed$ | async; else elseBlock">
            <button mat-button (click)="onUnfollow()">Unfollow</button>
        </span>
        <ng-template #elseBlock>
            <span *ngIf="getCurrentUser()?.id != user.id">
                <button mat-button (click)="onFollow()">Follow</button>
            </span>
        </ng-template>
        
        <button mat-button>Message</button>
    </div>

    <div class="orchestra">
        <h2>My orchestra</h2>
        <span *ngIf="orchestraMembership$ | async; let orchestraMembership; else noPlay"> 
            <div>
                Orchestra name:
                {{orchestraMembership.orchestra.name}}
            </div>
            <div>
                Conductor
                {{orchestraMembership.orchestra.conductor.firstName}} {{orchestraMembership.orchestra.conductor.lastName}}
            </div>
            <div>
                Joined at:
                {{orchestraMembership.joinedAt}}
            </div>
            <div>
                Playing:
                {{orchestraMembership.instrument}}
            </div>
        </span>
        <ng-template #noPlay>
            <span>I don't play in any orchestra</span>
        </ng-template>
    </div>
</div>



